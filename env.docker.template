# ZeroErr GPT 数据存储架构 - Docker 环境变量配置模板
# 复制此文件为 .env 并根据实际情况修改
# 使用方式: docker-compose -f docker-compose.zeroerr.yaml --env-file .env up -d

# ============================================
# L2: PostgreSQL 配置
# ============================================
POSTGRES_DB=zeroerr_meta
POSTGRES_USER=zeroerr
POSTGRES_PASSWORD=zero0000
POSTGRES_PORT=5432

# ============================================
# L3: MinIO 配置
# ============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=zero0000
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# ============================================
# L1: Redis 配置（可选）
# ============================================
REDIS_PASSWORD=zero0000
REDIS_PORT=6379

# ============================================
# OpenWebUI-ZeroErr 应用配置
# ============================================
# 数据库连接（使用 Docker 服务名）
DATABASE_URL=postgresql://zeroerr:zero0000@postgres:5432/zeroerr_meta

# MinIO 连接配置（OpenWebUI 使用）
# Docker 环境: 使用 Docker 服务名
# 本地开发: 使用 localhost
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=zero0000
MINIO_SECURE=false

# MinIO Bucket 配置（可选，使用默认值）
MINIO_BUCKET_RAW_DATA=raw-data
MINIO_BUCKET_RAG=knowledge
MINIO_BUCKET_ASSETS=assets
MINIO_BUCKET_EXTERNAL=external

# Redis 连接
# 本地开发: redis://:zero0000@localhost:6379/0
# Docker 环境: redis://:zero0000@redis:6379/0
REDIS_URL=redis://:zero0000@redis:6379/0

# 存储提供者
# 选项: local, minio, s3, gcs, azure
# 使用 MinIO: STORAGE_PROVIDER=minio
# 使用本地存储: STORAGE_PROVIDER=local
STORAGE_PROVIDER=minio

# 数据目录（Docker 容器内路径）
DATA_DIR=/app/backend/data

# ============================================
# L4: Elasticsearch 配置（共享服务）
# ============================================
# Elasticsearch 版本（与 Ragflow 保持一致）
STACK_VERSION=8.11.3
# Elasticsearch 端口
ES_PORT=9200
# Elasticsearch 用户名（默认 elastic）
ES_USER=elastic
# Elasticsearch 密码
ELASTIC_PASSWORD=zero0000
# Elasticsearch 主机（Docker 服务名）
ES_HOST=elasticsearch
# Elasticsearch 内存限制（默认 8GB）
MEM_LIMIT=8073741824

# ============================================
# RAGFlow 配置（L4）
# ============================================
RAGFLOW_BASE_URL=http://ragflow:9380
RAGFLOW_API_KEY=your_ragflow_api_key

